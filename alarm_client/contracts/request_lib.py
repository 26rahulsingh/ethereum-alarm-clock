import json
from web3.contract import Contract


REQUEST_LIB_ABI = json.loads('[{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"}],"name":"requiredExecutionGas","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"EXECUTE_EXTRA_GAS","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"},{"name":"addressArgs","type":"address[4]"},{"name":"uintArgs","type":"uint256[11]"},{"name":"callData","type":"bytes"}],"name":"initialize","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"}],"name":"cancel","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"}],"name":"sendPayment","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"}],"name":"sendOwnerEther","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[],"name":"EXECUTION_GAS_OVERHEAD","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"}],"name":"execute","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"}],"name":"claim","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"}],"name":"refundClaimDeposit","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"},{"name":"addressValues","type":"address[6]"},{"name":"boolValues","type":"bool[3]"},{"name":"uintValues","type":"uint256[15]"},{"name":"uint8Values","type":"uint8[1]"},{"name":"callData","type":"bytes"}],"name":"deserialize","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"},{"name":"sendGas","type":"uint256"}],"name":"sendOwnerEther","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"}],"name":"isCancellable","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"}],"name":"sendDonation","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"}],"name":"isClaimable","outputs":[{"name":"","type":"bool"}],"type":"function"},{"constant":false,"inputs":[],"name":"CANCEL_EXTRA_GAS","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"PRE_EXECUTION_GAS","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"addressArgs","type":"address[4]"},{"name":"uintArgs","type":"uint256[11]"},{"name":"callData","type":"bytes"},{"name":"endowment","type":"uint256"}],"name":"validate","outputs":[{"name":"is_valid","type":"bool[7]"}],"type":"function"},{"constant":false,"inputs":[{"name":"self","type":"RequestLib.Requeststorage"}],"name":"serialize","outputs":[{"name":"","type":"bool"}],"type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"rewardPayment","type":"uint256"},{"indexed":false,"name":"measuredGasConsumption","type":"uint256"}],"name":"Cancelled","type":"event"},{"anonymous":false,"inputs":[],"name":"Claimed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"reason","type":"uint8"}],"name":"Aborted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"payment","type":"uint256"},{"indexed":false,"name":"donation","type":"uint256"},{"indexed":false,"name":"measuredGasConsumption","type":"uint256"}],"name":"Executed","type":"event"}]')  # noqa


class RequestLibFactory(Contract):
    pass


def get_request_lib(web3, address, abi=REQUEST_LIB_ABI):
    return web3.eth.contract(
        abi=abi,
        address=address,
        base_contract_factory_class=RequestLibFactory,
    )
